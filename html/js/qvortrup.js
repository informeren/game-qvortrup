(function(e){function o(){e.each(t,function(n){var r=t[n].initPosY,i=t[n].initPosX;e(t[n].id).css({top:r+"px",left:i+"px"})})}function u(){e("#throwDice").click(function(r){r.preventDefault();e(this).hide();var i;if(t[s].wait===0){i=p();d(i);var o=t[s].currentField,u=o+i;if(o===49){var a=Math.ceil(i/2);u=51+a;l(s,u)}else u>49?l(s,49):l(s,u)}else{if(t[s].wait>0){t[s].wait--;h();f()}if(t[s].wait<0){i=p();d(i);if(i>4){t[s].wait=0;var c=n[t[s].currentField].posX-10,v=n[t[s].currentField].posY-30;e(t[s].id).animate({top:v+"px",left:c+"px"},750)}h();f()}}});e("#dismiss").click(function(r){r.preventDefault();e("#message").fadeOut(250,function(){e(this).hide();var r=t[s].currentField,i=n[r].type,o;switch(i){case"move":o=r+n[r].value;l(s,o);break;case"wait":t[s].wait=n[r].value;h();break;case"special":o=n[r].value;o===50&&(t[s].wait=-1);l(s,o);t[s].prevField=n[r].value}f()})});e("#buttonStart").click(function(n){n.preventDefault();e("#instructions").fadeOut(250,function(){e(this).hide();e("#controls").fadeIn(250);f()});r=parseInt(e("input[name=players]:checked").val());e.each(t,function(n){n<r?t[n].inPlay=!0:e(t[n].id).fadeOut(250,function(){e(this).hide()})});e.each(t,function(e){l(e,0)})})}function a(){e("#controls").hide();e("#message").hide();e("#done").hide()}function f(){e("#controls .playerName").text(atob(t[s].name));if(t[s].wait>0)switch(t[s].wait){case 1:e("#throwDice").text("Vent en omgang");break;case 2:e("#throwDice").text("Vent to omgange")}else e("#throwDice").text("Kast terningen!");e("#throwDice").show()}function l(r,s){var o=n[s].posY,u=n[s].posX,a=t[r];o+=Math.floor(Math.random()*i)-i/2-30;u+=Math.floor(Math.random()*i)-i/2-10;if(a.prevField===51){var f=n[a.currentField].posY-30,l=n[a.currentField].posX-10;t[r].prevField=0;e(t[r].id).animate({top:f+"px",left:l+"px"},750,function(){e(t[r].id).animate({top:o+"px",left:u+"px"},750,function(){c(r,s)})})}else e(t[r].id).animate({top:o+"px",left:u+"px"},750,function(){c(r,s)});s<50&&(t[r].currentField=s);s===51&&(t[r].currentField=21)}function c(t,r){if("message"in n[r]){if(r>50){e("#message p.done").show();e("#message p.dismiss").hide()}else{e("#message p.done").hide();e("#message p.dismiss").show()}e("#message").children(".message").text(atob(n[r].message)).parent().fadeIn(250)}else{r!==49&&h();f()}}function h(){s++;s===r&&(s=0)}function p(){return Math.floor(Math.random()*6)+1}function d(t){e("#dice1").attr("src","./img/dice"+t+".png").show()}var t=[{name:"U3BpbGxlciAx",id:"#player1",initPosX:20,initPosY:520,inPlay:!1,currentField:0,prevField:0,wait:0},{name:"U3BpbGxlciAy",id:"#player2",initPosX:68,initPosY:517,inPlay:!1,currentField:0,prevField:0,wait:0},{name:"U3BpbGxlciAz",id:"#player3",initPosX:117,initPosY:521,inPlay:!1,currentField:0,prevField:0,wait:0},{name:"U3BpbGxlciA0",id:"#player4",initPosX:162,initPosY:520,inPlay:!1,currentField:0,prevField:0,wait:0}],n=[{posX:262,posY:85},{posX:345,posY:93},{posX:391,posY:92},{message:"RHUgYmVneW5kZXIgYXQgcHVtcGUgamVybiwgb2cgZGluIG55ZSBrcm9wIGdpdmVyIHJlc3Bla3QgcOUgZ2FuZ2VuLiBSeWsgdG8gZmVsdGVyIGZyZW0u",type:"move",value:2,posX:461,posY:72},{posX:537,posY:75},{posX:589,posY:73},{message:"RHUgc2tyaXZlciBlbiBib2cgb20gdXJldGbmcmRpZ2hlZCBpIHN5c3RlbWV0LiBWZW50IGVuIG9tZ2FuZy4=",type:"wait",value:1,posX:634,posY:89},{message:"RHUgZuVyIGVuIGbmbmdzZWxzdGF0b3ZlcmluZywgc29tIGdpdmVyIGZvcm55ZXQgcmVzcGVrdC4gUnlrIGV0IGZlbHQgZnJlbS4=",type:"move",value:1,posX:717,posY:122},{posX:763,posY:106},{message:"RHUgbfhkZXIgS2VuIEIuIFJhc211c3NlbiBw5SBn5XJkdHVyZW4sIG9nIEkga29tbWVyIG9wIGF0IHNs5XMuIFJ5ayBpIGlzb2xhdGlvbi4=",type:"special",value:50,posX:788,posY:197},{posX:878,posY:158},{message:"VFYyIGJyaW5nZXIgYWZzbPhyaW5nZW4gIkRhbnNrZSBm5m5nc2xlciBzdvhtbWVyIGkgaGFzaCIsIG9nIGR1IGhq5mxwZXIgZuZuZ3NlbHNpbnNwZWt0+HJlbiBtZWQgcHJlc3NlaOVuZHRlcmluZ2VuLiBSeWsgdG8gZmVsdGVyIGZyZW0u",type:"move",value:2,posX:889,posY:228},{message:"SW5nZW4gYWYgZGluZSB2ZW5uZXIgdmlsIHNtdWdsZSBoYXNoIG1lZCBpbmQsIG7lciBkZSBrb21tZXIgcOUgYmVz+GcuIERldCBza2FiZXIgZOVybGlnIHN0ZW1uaW5nIHDlIGdhbmdlbi4gUnlrIGkgZnJpdmlsbGlnIGlzb2xhdGlvbi4=",type:"special",value:50,posX:815,posY:252},{posX:763,posY:259},{posX:722,posY:270},{message:"RHUgbuZndGVyIGF0IHNhbWxlIGZsZXJlIHT4amtsZW1tZXIuIFJ5ayAyIGZlbHRlciB0aWxiYWdlLg==",type:"move",value:-2,posX:678,posY:276},{message:"RHUgYW5hbHlzZXJlciBtYWd0Zm9yaG9sZGV0IG1lbGxlbSB0byBmbPhqZSBpIGbmbmdzbGV0IG1lbiB0YWxlciBsaWR0IGZvciBo+Gp0LiBWZW50IGVuIG9tZ2FuZy4=",type:"wait",value:1,posX:612,posY:275},{message:"TGFycyBM+GtrZSBSYXNtdXNzZW4gcmluZ2VyIG9nIHNw+HJnZXIgZGlnIHRpbCBy5WRzIGkgZW4gYmlsYWdzc2FnLCBvZyBkdSBm+GxlciBkaWcgaWdlbiB2aWd0aWcgb2cgduZyZHNhdC4gUnlrIOl0IGZlbHQgZnJlbS4=",type:"move",value:1,posX:500,posY:271},{posX:455,posY:236},{message:"RW4gZmxpbmsgZnlyIHZlZCBuYXZuIEFsaSBicnVnZXIgZGlnIHNvbSBzcGluZG9rdG9yIG9nIHZpbmRlciBsYW5nc29tdCBtYWd0ZW4gcOUgZ2FuZ2VuLiBEdSBm5XIgZGV0IG1lZ2V0IG5lbW1lcmUuIFJ5ayB0cmUgZmVsdGVyIGZyZW0u",type:"move",value:3,posX:415,posY:264},{message:"TmFzZXIgS2hhZGVyIHVkZ2l2ZXIgZW4gc2VsdmJpb2dyYWZpIG1lZCBldCBrYXBpdGVsIG9tIGRpZy4gUnlrIHRvIGZlbHRlciB0aWxiYWdlLg==",type:"move",value:-2,posX:373,posY:288},{posX:313,posY:307},{posX:273,posY:331},{message:"S2xhdXMgUmlza+ZyIGJsaXZlciBm5m5nc2xldCBvZyBmbHl0dGVyIGluZCBw5SBkaW4gYWZkZWxpbmcuIEkgaG9sZGVyIHNhbW1lbiBvZyBzdOVyIHN05nJrZXJlLiBSeWsg6XQgZmVsdCBmcmVtLg==",type:"move",value:1,posX:283,posY:376},{posX:332,posY:376},{message:"U3RvcmUgRnJhbmsgZnJhIGdhbmdlbiBn+HIgZGlnIHRpbCBzaW4gcGVyc29ubGlnZSBodXNoauZscCBvZyB0dmluZ2VyIGRpZyB0aWwgYXQgdmFza2Ugb3AgaHZlciBkYWcuIFZlbnQgZW4gb21nYW5nLg==",type:"wait",value:1,posX:375,posY:357},{message:"RHUgc2t5bGRlciBUb3JzdGVuIGZyYSBuYWJvZ2FuZ2VuIDEwMC4wMDAga3JvbmVyIG9nIGZvcnP4Z2VyIGF0IHPmbGdlIPhkZWflcmRlbiBmb3IgYXQgc2thZmZlIGthcGl0YWwuIE1lbiBkaW4ga29uZSBz5nR0ZXIgc2lnIGltb2QuIFJ5ayBpIGZyaXZpbGxpZyBpc29sYXRpb24u",type:"special",value:50,posX:495,posY:381},{message:"U3RvcmUgQSBoYXIgbWFkZGFnLCBvZyBkdSBm5XIgZOVybGlnIG1hdmUuIFJ5ayB0aWwgc3lnZWFmc25pdHRldC4=",type:"special",value:51,posX:565,posY:350},{posX:611,posY:355},{posX:663,posY:347},{posX:718,posY:333},{message:"RHUgZuVyIGluZHNtdWdsZXQgZW4gbW9iaWx0ZWxlZm9uLCBvZyBhbHRpbmcgYmxpdmVyIG1lZ2V0IG5lbW1lcmUuIFJ5ayB0cmUgZmVsdGVyIGZyZW0u",type:"move",value:3,posX:777,posY:317},{posX:717,posY:382},{posX:712,posY:431},{posX:668,posY:447},{message:"UG9saXRpa2VuIGtvbW1lciBmb3JiaSBvZyBsYXZlciBldCBwZXJzb25saWd0IGludGVydmlldyBvbSBkaW4gaOVyZGUgdGlkIGkgZuZuZ3NsZXQuIFJ5ayB0byBmZWx0ZXIgZnJlbS4=",type:"move",value:2,posX:623,posY:404},{message:"RW4ga3ZpbmRlbGlnIGJldW5kcmVyIGhhciBs5nN0IGV0IGludGVydmlldyBtZWQgZGlnIGkgUG9saXRpa2VuIG9nIGtvbW1lciBw5SA=’dWtvbnRyb2xsZXJldCBiZXP4Zw==’LiBSeWsgdHJlIGZlbHRlciBmcmVtLg==",type:"move",value:3,posX:537,posY:429},{posX:396,posY:462},{posX:363,posY:436},{posX:318,posY:446},{message:"RW4gbWVkZmFuZ2UgZ/hyIHRpbG7mcm1lbHNlciBpIGJhZGV0LiBGbHlndCB0byBmZWx0ZXIgZnJlbS4=",type:"move",value:2,posX:284,posY:475},{posX:330,posY:525},{posX:371,posY:539},{message:"RHUgYmxpdmVyIHRlbm9yIGkgZmFuZ2Vrb3JldCwgb2cgZGV0IHZpcmtlci4gUnlrIHRvIGZlbHRlciBmcmVtLg==",type:"move",value:2,posX:411,posY:504},{message:"RGVyIGflciBiZXTmbmRlbHNlIGkgZGluIGbmbmdzZWxzdGF0b3ZlcmluZy4gUnlrIGRpcmVrdGUgdGlsIHN5Z2VhZnNuaXR0ZXQu",type:"special",value:51,posX:476,posY:526},{posX:551,posY:543},{posX:593,posY:548},{message:"RGluIHVyaW5wcvh2ZSBlciBpa2tlIHJlbiwgb2cgZHUga2FuIGlra2UgZuUgdWRnYW5nLiBWZW50IHRvIG9tZ2FuZ2Uu",type:"wait",value:2,posX:638,posY:515},{posX:678,posY:493},{message:"VGlsbHlra2UsIGR1IGVyIHVkZSBhZiBm5m5nc2xldCEgU2zlIG1lZCB0ZXJuaW5nZW4gZm9yIGF0IGblIGFmZ2pvcnQgZGluIHZpZGVyZSBza+ZibmUu",posX:731,posY:487},{posX:869,posY:62},{posX:309,posY:199},{message:"RHUgYmxpdmVyIHByZXNzZW1lZGFyYmVqZGVyIGkgQmFsbGVydXAgS29tbXVuZSBtZWQgbXVsaWdoZWQgZm9yIGZvcmZyZW1tZWxzZS4=",posX:891,posY:337},{message:"RHUgYmxpdmVyIGdlbmFuc2F0IGkgZGl0IGdhbWxlIGpvYiBzb20gcG9saXRpc2sga29tbWVudGF0b3IgcOUgVFYyIG9nIEV1cm9tYW4gbGF2ZXIgZXQgZG9iYmVsdGludGVydmlldyBtZWQgZGlnIG9nIEr4cmdlbiBMZXRoIG9tIGF0IGJsaXZlIGZ5cmV0IG9nIHZlbmRlIHN05nJrdCB0aWxiYWdlLg==",posX:828,posY:464},{message:"RHUgc2zlciBkaWcgbmVkIHNvbSBjb2FjaCBvZyB5b2dhaW5zdHJ1a3T4ciBw5SBMb2xsYW5kIG9nIGhq5mxwZXIga2VuZHRlIG1lbm5lc2tlciwgc29tIGhhciB25nJldCBpZ2VubmVtIG1lZGllbfhsbGVuLCBtZWQgYXQga29tbWUgcOUgZm9kZSBpZ2VuLg==",posX:847,posY:531}],r=0,i=10,s=0;e(function(){o();u();a()})})(jQuery);