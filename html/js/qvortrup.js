(function(e){function a(){e.each(t,function(n){var r=t[n].initPosY,i=t[n].initPosX;e(t[n].id).css({top:r+"px",left:i+"px"})})}function f(){e("#throwDice").click(function(r){r.preventDefault();e(this).hide();var i;if(t[s].wait===0){i=v();m(i);var o=t[s].currentField,u=o+i;if(o===49){var a=Math.ceil(i/2);u=51+a;h(s,u)}else u>49?h(s,49):h(s,u)}else{if(t[s].wait>0){t[s].wait--;d();c()}if(t[s].wait<0){i=v();m(i);if(i>4){t[s].wait=0;var f=n[t[s].currentField].posX-10,l=n[t[s].currentField].posY-30;e(t[s].id).animate({top:l+"px",left:f+"px"},750)}d();c()}}});e("#dismiss").click(function(r){r.preventDefault();e("#message").fadeOut(250,function(){e(this).hide();var r=t[s].currentField,i=n[r].type,o;switch(i){case"move":o=r+n[r].value;h(s,o);break;case"wait":t[s].wait=n[r].value;d();break;case"special":o=n[r].value;o===50&&(t[s].wait=-1);h(s,o);t[s].prevField=n[r].value}c()})});e("#buttonStart").click(function(n){n.preventDefault();e("#instructions").fadeOut(250,function(){e(this).hide();e("#controls").fadeIn(250);c()});r=parseInt(e("input[name=players]:checked").val());e.each(t,function(n){n<r?t[n].inPlay=!0:e(t[n].id).fadeOut(250,function(){e(this).hide()})});e.each(t,function(e){h(e,0)})})}function l(){e("#controls").hide();e("#message").hide();e("#done").hide()}function c(){e("#controls .playerName").text(atob(t[s].name));if(t[s].wait>0)switch(t[s].wait){case 1:e("#throwDice").text("Vent en omgang");break;case 2:e("#throwDice").text("Vent to omgange")}else e("#throwDice").text("Kast terningen!");e("#throwDice").show()}function h(r,s){var a=n[s].posY,f=n[s].posX,l=t[r];a-=u;f-=o;if(s<50){a+=Math.floor(Math.random()*i)-i/2;f+=Math.floor(Math.random()*i)-i/2}if(l.prevField===51){var c=n[l.currentField].posY-u,h=n[l.currentField].posX-o;t[r].prevField=0;e(t[r].id).animate({top:c+"px",left:h+"px"},750,function(){e(t[r].id).animate({top:a+"px",left:f+"px"},750,function(){p(r,s)})})}else e(t[r].id).animate({top:a+"px",left:f+"px"},750,function(){p(r,s)});s<50&&(t[r].currentField=s);s===51&&(t[r].currentField=21)}function p(t,r){if("message"in n[r]){if(r>50){e("#message p.done").show();e("#message p.dismiss").hide()}else{e("#message p.done").hide();e("#message p.dismiss").show()}e("#message").children(".message").text(atob(n[r].message)).parent().fadeIn(250)}else{r!==49&&d();c()}}function d(){s++;s===r&&(s=0)}function v(){return Math.floor(Math.random()*6)+1}function m(t){e("#dice1").attr("src","./img/dice"+t+".png").show()}var t=[{name:"U3BpbGxlciAx",id:"#player1",initPosX:20,initPosY:520,inPlay:!1,currentField:0,prevField:0,wait:0},{name:"U3BpbGxlciAy",id:"#player2",initPosX:68,initPosY:517,inPlay:!1,currentField:0,prevField:0,wait:0},{name:"U3BpbGxlciAz",id:"#player3",initPosX:117,initPosY:521,inPlay:!1,currentField:0,prevField:0,wait:0},{name:"U3BpbGxlciA0",id:"#player4",initPosX:162,initPosY:520,inPlay:!1,currentField:0,prevField:0,wait:0}],n=[{posX:254,posY:89},{posX:338,posY:93},{posX:385,posY:92},{message:"RHUgYmVneW5kZXIgYXQgcHVtcGUgamVybiwgb2cgZGluIG55ZSBrcm9wIGdpdmVyIHJlc3Bla3QgcOUgZ2FuZ2VuLiBSeWsgdG8gZmVsdGVyIGZyZW0u",type:"move",value:2,posX:457,posY:70},{posX:533,posY:75},{posX:585,posY:73},{message:"RHUgc2tyaXZlciBlbiBib2cgb20gdXJldGbmcmRpZ2hlZCBpIHN5c3RlbWV0LiBWZW50IGVuIG9tZ2FuZy4=",type:"wait",value:1,posX:630,posY:90},{message:"RHUgZuVyIGVuIGbmbmdzZWxzdGF0b3ZlcmluZywgc29tIGdpdmVyIGZvcm55ZXQgcmVzcGVrdC4gUnlrIGV0IGZlbHQgZnJlbS4=",type:"move",value:1,posX:714,posY:124},{posX:761,posY:109},{message:"RHUgbfhkZXIgS2VuIEIuIFJhc211c3NlbiBw5SBn5XJkdHVyZW4sIG9nIEkga29tbWVyIG9wIGF0IHNs5XMuIFJ5ayBpIGlzb2xhdGlvbi4=",type:"special",value:50,posX:787,posY:200},{posX:878,posY:161},{message:"VFYyIGJyaW5nZXIgYWZzbPhyaW5nZW4gIkRhbnNrZSBm5m5nc2xlciBzdvhtbWVyIGkgaGFzaCIsIG9nIGR1IGhq5mxwZXIgZuZuZ3NlbHNpbnNwZWt0+HJlbiBtZWQgcHJlc3NlaOVuZHRlcmluZ2VuLiBSeWsgdG8gZmVsdGVyIGZyZW0u",type:"move",value:2,posX:888,posY:230},{message:"SW5nZW4gYWYgZGluZSB2ZW5uZXIgdmlsIHNtdWdsZSBoYXNoIG1lZCBpbmQsIG7lciBkZSBrb21tZXIgcOUgYmVz+GcuIERldCBza2FiZXIgZOVybGlnIHN0ZW1uaW5nIHDlIGdhbmdlbi4gUnlrIGkgZnJpdmlsbGlnIGlzb2xhdGlvbi4=",type:"special",value:50,posX:814,posY:257},{posX:761,posY:262},{posX:718,posY:275},{message:"RHUgbuZndGVyIGF0IHNhbWxlIGZsZXJlIHT4amtsZW1tZXIuIFJ5ayAyIGZlbHRlciB0aWxiYWdlLg==",type:"move",value:-2,posX:673,posY:281},{message:"RHUgYW5hbHlzZXJlciBtYWd0Zm9yaG9sZGV0IG1lbGxlbSB0byBmbPhqZSBpIGbmbmdzbGV0IG1lbiB0YWxlciBsaWR0IGZvciBo+Gp0LiBWZW50IGVuIG9tZ2FuZy4=",type:"wait",value:1,posX:608,posY:279},{message:"TGFycyBM+GtrZSBSYXNtdXNzZW4gcmluZ2VyIG9nIHNw+HJnZXIgZGlnIHRpbCBy5WRzIGkgZW4gYmlsYWdzc2FnLCBvZyBkdSBm+GxlciBkaWcgaWdlbiB2aWd0aWcgb2cgduZyZHNhdC4gUnlrIOl0IGZlbHQgZnJlbS4=",type:"move",value:1,posX:496,posY:275},{posX:454,posY:236},{message:"RW4gZmxpbmsgZnlyIHZlZCBuYXZuIEFsaSBicnVnZXIgZGlnIHNvbSBzcGluZG9rdG9yIG9nIHZpbmRlciBsYW5nc29tdCBtYWd0ZW4gcOUgZ2FuZ2VuLiBEdSBm5XIgZGV0IG1lZ2V0IG5lbW1lcmUuIFJ5ayB0cmUgZmVsdGVyIGZyZW0u",type:"move",value:3,posX:405,posY:257},{message:"TmFzZXIgS2hhZGVyIHVkZ2l2ZXIgZW4gc2VsdmJpb2dyYWZpIG1lZCBldCBrYXBpdGVsIG9tIGRpZy4gUnlrIHRvIGZlbHRlciB0aWxiYWdlLg==",type:"move",value:-2,posX:366,posY:291},{posX:305,posY:311},{posX:265,posY:335},{message:"S2xhdXMgUmlza+ZyIGJsaXZlciBm5m5nc2xldCBvZyBmbHl0dGVyIGluZCBw5SBkaW4gYWZkZWxpbmcuIEkgaG9sZGVyIHNhbW1lbiBvZyBzdOVyIHN05nJrZXJlLiBSeWsg6XQgZmVsdCBmcmVtLg==",type:"move",value:1,posX:276,posY:380},{posX:325,posY:381},{message:"U3RvcmUgRnJhbmsgZnJhIGdhbmdlbiBn+HIgZGlnIHRpbCBzaW4gcGVyc29ubGlnZSBodXNoauZscCBvZyB0dmluZ2VyIGRpZyB0aWwgYXQgdmFza2Ugb3AgaHZlciBkYWcuIFZlbnQgZW4gb21nYW5nLg==",type:"wait",value:1,posX:370,posY:362},{message:"RHUgc2t5bGRlciBUb3JzdGVuIGZyYSBuYWJvZ2FuZ2VuIDEwMC4wMDAga3JvbmVyIG9nIGZvcnP4Z2VyIGF0IHPmbGdlIPhkZWflcmRlbiBmb3IgYXQgc2thZmZlIGthcGl0YWwuIE1lbiBkaW4ga29uZSBz5nR0ZXIgc2lnIGltb2QuIFJ5ayBpIGZyaXZpbGxpZyBpc29sYXRpb24u",type:"special",value:50,posX:490,posY:385},{message:"U3RvcmUgQSBoYXIgbWFkZGFnLCBvZyBkdSBm5XIgZOVybGlnIG1hdmUuIFJ5ayB0aWwgc3lnZWFmc25pdHRldC4=",type:"special",value:51,posX:562,posY:355},{posX:608,posY:359},{posX:661,posY:352},{posX:718,posY:338},{message:"RHUgZuVyIGluZHNtdWdsZXQgZW4gbW9iaWx0ZWxlZm9uLCBvZyBhbHRpbmcgYmxpdmVyIG1lZ2V0IG5lbW1lcmUuIFJ5ayB0cmUgZmVsdGVyIGZyZW0u",type:"move",value:3,posX:775,posY:321},{posX:716,posY:387},{posX:717,posY:436},{posX:669,posY:443},{message:"UG9saXRpa2VuIGtvbW1lciBmb3JiaSBvZyBsYXZlciBldCBwZXJzb25saWd0IGludGVydmlldyBvbSBkaW4gaOVyZGUgdGlkIGkgZuZuZ3NsZXQuIFJ5ayB0byBmZWx0ZXIgZnJlbS4=",type:"move",value:2,posX:620,posY:411},{message:"RW4ga3ZpbmRlbGlnIGJldW5kcmVyIGhhciBs5nN0IGV0IGludGVydmlldyBtZWQgZGlnIGkgUG9saXRpa2VuIG9nIGtvbW1lciBw5SAmcnNxdW87dWtvbnRyb2xsZXJldCBiZXP4ZyZyc3F1bzsuIFJ5ayB0cmUgZmVsdGVyIGZyZW0u",type:"move",value:3,posX:533,posY:434},{posX:391,posY:469},{posX:356,posY:443},{posX:312,posY:452},{message:"RW4gbWVkZmFuZ2UgZ/hyIHRpbG7mcm1lbHNlciBpIGJhZGV0LiBGbHlndCB0byBmZWx0ZXIgZnJlbS4=",type:"move",value:2,posX:275,posY:481},{posX:322,posY:532},{posX:363,posY:546},{message:"RHUgYmxpdmVyIHRlbm9yIGkgZmFuZ2Vrb3JldCwgb2cgZGV0IHZpcmtlci4gUnlrIHRvIGZlbHRlciBmcmVtLg==",type:"move",value:2,posX:405,posY:511},{message:"RGVyIGflciBiZXTmbmRlbHNlIGkgZGluIGbmbmdzZWxzdGF0b3ZlcmluZy4gUnlrIGRpcmVrdGUgdGlsIHN5Z2VhZnNuaXR0ZXQu",type:"special",value:51,posX:471,posY:532},{posX:546,posY:549},{posX:591,posY:554},{message:"RGluIHVyaW5wcvh2ZSBlciBpa2tlIHJlbiwgb2cgZHUga2FuIGlra2UgZuUgdWRnYW5nLiBWZW50IHRvIG9tZ2FuZ2Uu",type:"wait",value:2,posX:635,posY:519},{posX:676,posY:498},{message:"VGlsbHlra2UsIGR1IGVyIHVkZSBhZiBm5m5nc2xldCEgU2zlIG1lZCB0ZXJuaW5nZW4gZm9yIGF0IGblIGFmZ2pvcnQgZGluIHZpZGVyZSBza+ZibmUu",posX:730,posY:491},{posX:885,posY:47},{posX:301,posY:199},{message:"RHUgYmxpdmVyIHByZXNzZW1lZGFyYmVqZGVyIGkgQmFsbGVydXAgS29tbXVuZSBtZWQgbXVsaWdoZWQgZm9yIGZvcmZyZW1tZWxzZS4=",posX:890,posY:340},{message:"RHUgYmxpdmVyIGdlbmFuc2F0IGkgZGl0IGdhbWxlIGpvYiBzb20gcG9saXRpc2sga29tbWVudGF0b3IgcOUgVFYyIG9nIEV1cm9tYW4gbGF2ZXIgZXQgZG9iYmVsdGludGVydmlldyBtZWQgZGlnIG9nIEr4cmdlbiBMZXRoIG9tIGF0IGJsaXZlIGZ5cmV0IG9nIHZlbmRlIHN05nJrdCB0aWxiYWdlLg==",posX:826,posY:467},{message:"RHUgc2zlciBkaWcgbmVkIHNvbSBjb2FjaCBvZyB5b2dhaW5zdHJ1a3T4ciBw5SBMb2xsYW5kIG9nIGhq5mxwZXIga2VuZHRlIG1lbm5lc2tlciwgc29tIGhhciB25nJldCBpZ2VubmVtIG1lZGllbfhsbGVuLCBtZWQgYXQga29tbWUgcOUgZm9kZSBpZ2VuLg==",posX:845,posY:534}],r=0,i=20,s=0,o=20,u=30;e(function(){a();f();l()})})(jQuery);